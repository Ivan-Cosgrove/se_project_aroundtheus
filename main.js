!function(){"use strict";class e{constructor(e,t,r,o,i){let{name:n,link:s,_id:a,isLiked:c}=e;this.name=n,this.link=s,this._id=a,this.isLiked=c,this._template=t,this._viewImage=r,this._handleDelete=o,this._sendLike=i}_toggleLike(){this._cardElement.querySelector(".card__button-like").classList.toggle("card__button_clicked")}_removeCard(){this._cardElement.remove(),this._cardElement=null}_setEventListeners(){const e=this._cardElement.querySelector(".card__button-like"),t=this._cardElement.querySelector(".card__button-delete"),r=this._cardElement.querySelector(".card__image");e.addEventListener("click",(()=>{this._toggleLike(),this._sendLike(this)})),t.addEventListener("click",(()=>(this._handleDelete(this),console.log(this._cardElement),this._cardElement))),r.addEventListener("click",(()=>{this._viewImage(this)}))}createCard(){this._template=document.querySelector(this._template).content,this._cardElement=this._template.querySelector(".card").cloneNode(!0);const e=this._cardElement.querySelector(".card__title"),t=this._cardElement.querySelector(".card__image"),r=this.name,o=this.link,i=this._id;return e.textContent=r,t.src=o,t.alt=r,this._cardElement.id=i,this._cardElement.isLiked=this.isLiked,this._cardElement.isLiked?this._cardElement.querySelector(".card__button-like").classList.add("card__button_clicked"):this._cardElement.querySelector(".card__button-like").classList.remove("card__button_clicked"),this._setEventListeners(),this._cardElement}}class t{constructor(e){let{popup:t}=e;this._popup=t}_handleEscClose=e=>{"Escape"===e.key&&this.close()};open(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("modal-box_opened")}close(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("modal-box_opened")}setEventListeners(){this._popup.querySelector(".modal-box__close-button").addEventListener("click",(()=>{this.close()})),this._popup.addEventListener("click",(e=>{e.target.classList.contains("modal-box_opened")&&this.close()}))}}class r extends t{constructor(e,t){super({popup:e}),this._popupForm=this._popup.querySelector(".form"),this._formSubmit=t}_getInputValues(){const e=this._popup.querySelectorAll(".form__input"),t={};return e.forEach((e=>{let{name:r,value:o}=e;t[r]=o})),t}close(){this._popupForm.reset(),super.close()}_reloadPage(){location.reload()}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._formSubmit(this._getInputValues()),setTimeout(this._reloadPage,1e3),this.close()})),super.setEventListeners()}}class o{constructor(e,t){this._config=e,this._form=t}_hideError(e){const t=this._form.querySelector(`.${e.id}-error`);t.classList.remove(this._config.error),e.classList.remove(this._config.inputError),t.textContent=""}_showError(e){const t=this._form.querySelector(`.${e.id}-error`);t.classList.add(this._config.error),e.classList.add(this._config.inputError),t.textContent=e.validationMessage}_toggleInputErrors(e){e.validity.valid?this._hideError(e):this._showError(e)}_disableSubmit(){const e=this._form.querySelector(this._config.submitButton);e.setAttribute("disabled",!0),e.classList.add(this._config.inactiveButton)}_enableSubmit(){const e=this._form.querySelector(this._config.submitButton);e.removeAttribute("disabled"),e.classList.remove(this._config.inactiveButton)}_checkForInvalidInput(){return[...this._form.querySelectorAll(this._config.input)].some((e=>!e.validity.valid))}toggleSubmitButton(){this._checkForInvalidInput()?this._disableSubmit():this._enableSubmit()}_setEventListeners(){[...this._form.querySelectorAll(this._config.input)].forEach((e=>{e.addEventListener("input",(()=>{this._toggleInputErrors(e),this.toggleSubmitButton()}))}))}enableValidation(){this._setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault()}))}}class i{constructor(e,t){let{items:r,renderer:o}=e;this._renderedItems=r,this._renderer=o,this.cardBin=t}renderItems(){this._renderedItems.reverse().forEach((e=>{this._renderer(e)}))}addItem(e){this.cardBin.prepend(e)}}document.querySelector(".cards__list");const n=document.querySelector("#edit-profile"),s=document.querySelector("#add-card"),a=(n.querySelector(".modal-box__close-button"),s.querySelector(".modal-box__close-button"));document.querySelector(".profile__title"),document.querySelector(".profile__subtitle"),n.querySelector(".form__input_type_name"),n.querySelector(".form__input_type_description"),a.closest(".form");const c=document.querySelector("#edit-profile"),d=document.querySelector(".profile__title"),l=document.querySelector(".profile__subtitle"),u=document.querySelector("#add-card"),_=document.querySelector(".cards__list"),m=document.querySelector(".profile__buttons-edit"),h=document.querySelector(".profile__buttons-add"),p=document.querySelector("#display-image"),f=p.querySelector(".modal-box__image"),b=document.querySelector(".form__input_type_name"),v=document.querySelector(".form__input_type_description"),y=document.querySelector(".profile__image"),S=document.querySelector("#change-avatar"),g=document.querySelector(".profile__buttons-image-edit"),E=document.querySelector("#delete-modal"),L=(document.querySelector("#delete-name"),document.querySelector("#delete-link"),document.querySelector("#delete-id")),q={editModal:"#edit-profile",addModal:"#add-card",changeAvatar:"#change-avatar",name:".profile__title",description:".profile__subtitle",form:".form",input:".form__input",submitButton:".form__button",inactiveButton:"form__button_disabled",inputError:"form__input_invalid",error:"form__error_visible"},k=new class{constructor(e){this._options=e}getInitialCards(){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{headers:{authorization:"eb144407-9d56-4c39-8eac-7fa32452a67f"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}getUserInfo(){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{headers:{authorization:"eb144407-9d56-4c39-8eac-7fa32452a67f"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}submitUserInfo(e){fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"POST",headers:{authorization:"eb144407-9d56-4c39-8eac-7fa32452a67f"}}).then(JSON.stringify(e))}updateUserInfo(e){fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"PATCH",headers:{"content-type":"application/JSON",authorization:"eb144407-9d56-4c39-8eac-7fa32452a67f"},body:JSON.stringify(e)})}updateProfilePicture(e){fetch("https://around-api.en.tripleten-services.com/v1/users/me/avatar",{method:"PATCH",headers:{authorization:"eb144407-9d56-4c39-8eac-7fa32452a67f","content-type":"application/JSON"},body:JSON.stringify(e)})}sendCard(e){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{method:"POST",headers:{"content-type":"application/JSON",authorization:"eb144407-9d56-4c39-8eac-7fa32452a67f"},body:JSON.stringify(e)})}deleteCard(e,t){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}`,{method:"DELETE",headers:{authorization:"eb144407-9d56-4c39-8eac-7fa32452a67f","content-type":"application/JSON"},body:JSON.stringify(t)})}likeCard(e,t){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:"PUT",headers:{authorization:"eb144407-9d56-4c39-8eac-7fa32452a67f","content-type":"application/JSON"},body:JSON.stringify(t)})}removeLike(e,t){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:"DELETE",headers:{authorization:"eb144407-9d56-4c39-8eac-7fa32452a67f","content-type":"application/JSON"},body:JSON.stringify(t)})}}(q);let I;k.getUserInfo().then((e=>{P.setUserInfo(e),y.src=e.avatar})),k.getInitialCards().then((t=>{I=new i({items:t,renderer:t=>{I.addItem(function(t){return new e(t,"#card",w,O,N).createCard()}(t))}},_),I.renderItems(),console.log(t)}));const C=new class extends t{constructor(e,t){super({popup:e}),this._image=t}open(e){const t=this._popup.querySelector(".modal-box__image"),r=this._popup.querySelector(".modal-box__caption"),o=e.name,i=e.link;return r.textContent=o,t.src=i,t.alt=`Preview image for ${o}`,super.open(),e}}(p,f);C.setEventListeners();const w=e=>{C.open(e)},x=new r(E,(e=>{k.deleteCard(e._id,e)}));x.setEventListeners();const O=e=>{x.open(),console.log(e),L.value=e._id};function N(e){e.isLiked?(alert(`You removed your like for ${e.name}`),k.removeLike(e._id,e)):(alert(`You liked ${e.name}`),k.likeCard(e._id,e))}const P=new class{constructor(e){let{name:t,about:r}=e;this._name=t,this._about=r}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent}}setUserInfo(e){this._name.textContent=e.name,this._about.textContent=e.about}}({name:d,about:l}),B=new r(u,(e=>{k.sendCard(e)}));B.setEventListeners();const J=new r(S,(e=>{console.log(e),k.updateProfilePicture(e)}));J.setEventListeners();const U=new r(c,(e=>{k.updateUserInfo(e)}));U.setEventListeners(),m.addEventListener("click",(function(){U.open();const e=P.getUserInfo();b.value=e.name,v.value=e.about,console.log(U),z.toggleSubmitButton()}));const $=new o(q,S);$.enableValidation(),g.addEventListener("click",(()=>{J.open(),$.toggleSubmitButton()})),h.addEventListener("click",(function(){B.open(),A.toggleSubmitButton()}));const z=new o(q,c);z.enableValidation();const A=new o(q,u);A.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFFSGhELEVBQVksSUFBSXhELEVBQWN3RyxHQUFzQlosSUFDeERoQixFQUFJdUIsU0FBU1AsRUFBSyxJQUVwQnBDLEVBQVUzRCxvQkFFVixNQUFNMEgsRUFBYyxJQUFJdkgsRUFBY3dHLEdBQXlCWixJQUM3RHZILFFBQVFDLElBQUlzSCxHQUNaaEIsRUFBSXNCLHFCQUFxQk4sRUFBSyxJQUVoQzJCLEVBQVkxSCxvQkFnQlosTUFBTTBELEVBQWUsSUFBSXZELEVBQWN3RyxHQUF5QlosSUFDOURoQixFQUFJb0IsZUFBZUosRUFBSyxJQUUxQnJDLEVBQWExRCxvQkFDYjJHLEVBQUFBLGlCQUFzQyxTQUFTLFdBQzdDakQsRUFBYTVELE9BQ2IsTUFBTTZILEVBQWNiLEVBQVNqQixjQUM3QmMsRUFBQUEsTUFBNEJnQixFQUFZeEssS0FDeEN3SixFQUFBQSxNQUE0QmdCLEVBQVlKLE1BQ3hDL0ksUUFBUUMsSUFBSWlGLEdBQ1prRSxFQUFrQmhGLG9CQUNwQixJQUVBLE1BQU1pRixFQUFzQixJQUFJekcsRUFDOUJ1RixFQUNBQSxHQUVGa0IsRUFBb0JoRixtQkFFcEI4RCxFQUFBQSxpQkFBOEMsU0FBUyxLQUNyRGUsRUFBWTVILE9BQ1orSCxFQUFvQmpGLG9CQUFvQixJQUcxQytELEVBQUFBLGlCQUFxQyxTQUFTLFdBQzVDaEQsRUFBVTdELE9BQ1ZnSSxFQUFpQmxGLG9CQUNuQixJQUNBLE1BQU1nRixFQUFvQixJQUFJeEcsRUFDNUJ1RixFQUNBQSxHQUVGaUIsRUFBa0IvRSxtQkFFWCxNQUFNaUYsRUFBbUIsSUFBSTFHLEVBQ2xDdUYsRUFDQUEsR0FFRm1CLEVBQWlCakYsa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlsaXR5L3V0aWxpdHkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxpdHkvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IG5hbWUsIGxpbmssIF9pZCwgaXNMaWtlZCB9LFxyXG4gICAgdGVtcGxhdGUsXHJcbiAgICB2aWV3SW1hZ2UsXHJcbiAgICBoYW5kbGVEZWxldGUsXHJcbiAgICBzZW5kTGlrZVxyXG4gICkge1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMubGluayA9IGxpbms7XHJcbiAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIHRoaXMuaXNMaWtlZCA9IGlzTGlrZWQ7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IHRlbXBsYXRlO1xyXG4gICAgdGhpcy5fdmlld0ltYWdlID0gdmlld0ltYWdlO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlID0gaGFuZGxlRGVsZXRlO1xyXG4gICAgdGhpcy5fc2VuZExpa2UgPSBzZW5kTGlrZTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVMaWtlKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnV0dG9uLWxpa2VcIilcclxuICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19idXR0b25fY2xpY2tlZFwiKTtcclxuICB9XHJcbiAgX3JlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICB9XHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgY2FyZExpa2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J1dHRvbi1saWtlXCIpO1xyXG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuY2FyZF9fYnV0dG9uLWRlbGV0ZVwiXHJcbiAgICApO1xyXG4gICAgY29uc3QgY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIGNhcmRMaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX3RvZ2dsZUxpa2UoKTtcclxuICAgICAgdGhpcy5fc2VuZExpa2UodGhpcyk7XHJcbiAgICB9KTtcclxuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGUodGhpcyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuX2NhcmRFbGVtZW50KTtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gICAgfSk7XHJcbiAgICBjYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5fdmlld0ltYWdlKHRoaXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlKS5jb250ZW50O1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl90ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgY29uc3QgY2FyZE5hbWUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG4gICAgY29uc3QgY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIGNvbnN0IGNhcmRDYXAgPSB0aGlzLm5hbWU7XHJcbiAgICBjb25zdCBjYXJkSW1nID0gdGhpcy5saW5rO1xyXG4gICAgY29uc3QgY2FyZElEID0gdGhpcy5faWQ7XHJcbiAgICBjYXJkTmFtZS50ZXh0Q29udGVudCA9IGNhcmRDYXA7XHJcbiAgICBjYXJkSW1hZ2Uuc3JjID0gY2FyZEltZztcclxuICAgIGNhcmRJbWFnZS5hbHQgPSBjYXJkQ2FwO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQuaWQgPSBjYXJkSUQ7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5pc0xpa2VkID0gdGhpcy5pc0xpa2VkO1xyXG4gICAgaWYgKHRoaXMuX2NhcmRFbGVtZW50LmlzTGlrZWQpIHtcclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19idXR0b24tbGlrZVwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fYnV0dG9uX2NsaWNrZWRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J1dHRvbi1saWtlXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19idXR0b25fY2xpY2tlZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXAgfSkge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBvcGVuKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcIm1vZGFsLWJveF9vcGVuZWRcIik7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbC1ib3hfb3BlbmVkXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJveF9fY2xvc2UtYnV0dG9uXCIpO1xyXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWwtYm94X29wZW5lZFwiKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwLCBmb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcih7IHBvcHVwIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gICAgdGhpcy5fZm9ybVN1Ym1pdCA9IGZvcm1TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dHMgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpO1xyXG4gICAgY29uc3QgaW5wdXRzT2JqZWN0ID0ge307XHJcblxyXG4gICAgaW5wdXRzLmZvckVhY2goKHsgbmFtZSwgdmFsdWUgfSkgPT4ge1xyXG4gICAgICBpbnB1dHNPYmplY3RbbmFtZV0gPSB2YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0c09iamVjdDtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgX3JlbG9hZFBhZ2UoKSB7XHJcbiAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fZm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgc2V0VGltZW91dCh0aGlzLl9yZWxvYWRQYWdlLCAxMDAwKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG5cclxuLypcclxuICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG5kYXRheyBcclxuXCJZb3NlbWl0ZSBWYWxsZXlcIjogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiXHJcbn0qL1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVFcnJvcihpbnB1dCkge1xyXG4gICAgY29uc3QgZXJyb3JUZXh0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGVycm9yVGV4dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvcik7XHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yKTtcclxuICAgIGVycm9yVGV4dC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBfc2hvd0Vycm9yKGlucHV0KSB7XHJcbiAgICBjb25zdCBlcnJvclRleHQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgZXJyb3JUZXh0LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3IpO1xyXG4gICAgZXJyb3JUZXh0LnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgfVxyXG4gIF90b2dnbGVJbnB1dEVycm9ycyhpbnB1dCkge1xyXG4gICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93RXJyb3IoaW5wdXQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBfZGlzYWJsZVN1Ym1pdCgpIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uKTtcclxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbik7XHJcbiAgfVxyXG5cclxuICBfZW5hYmxlU3VibWl0KCkge1xyXG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b24pO1xyXG4gICAgYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0ZvckludmFsaWRJbnB1dCgpIHtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0KV07XHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIGlmICh0aGlzLl9jaGVja0ZvckludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVTdWJtaXQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgaW5wdXRzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXQpXTtcclxuICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUlucHV0RXJyb3JzKGlucHV0KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjYXJkQmluKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5jYXJkQmluID0gY2FyZEJpbjtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5yZXZlcnNlKCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLmNhcmRCaW4ucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiY29uc3QgY2FyZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5jb25zdCBwcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtcHJvZmlsZVwiKTtcclxuY29uc3QgY2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZFwiKTtcclxuY29uc3QgcHJvTW9kYWxDbG9zZSA9IHByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJveF9fY2xvc2UtYnV0dG9uXCIpO1xyXG5jb25zdCBjYXJkTW9kYWxDbG9zZSA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJveF9fY2xvc2UtYnV0dG9uXCIpO1xyXG5cclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xyXG5jb25zdCBwcm9maWxlRGVzYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc3VidGl0bGVcIik7XHJcbmNvbnN0IG5hbWVJbnB1dCA9IHByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfbmFtZVwiKTtcclxuY29uc3QgZGVzY0lucHV0ID0gcHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfdHlwZV9kZXNjcmlwdGlvblwiKTtcclxuY29uc3QgY2FyZE1vZGFsRm9ybSA9IGNhcmRNb2RhbENsb3NlLmNsb3Nlc3QoXCIuZm9ybVwiKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZVdpdGhFc2NhcGUpO1xyXG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbC1ib3hfb3BlbmVkXCIpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VXaXRoRXNjYXBlKTtcclxuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWwtYm94X29wZW5lZFwiKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VXaXRoRXNjYXBlKGV2dCkge1xyXG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICBjb25zdCBhY3RpdmVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtYm94X29wZW5lZFwiKTtcclxuICAgIGNsb3NlTW9kYWwoYWN0aXZlTW9kYWwpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VPbk91dHNpZGVDbGljayhtb2RhbCkge1xyXG4gIGlmIChtb2RhbC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbC1ib3hfb3BlbmVkXCIpKSB7XHJcbiAgICBjbG9zZU1vZGFsKG1vZGFsKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IHByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1wcm9maWxlXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3N1YnRpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZFwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2J1dHRvbnMtZWRpdFwiKTtcclxuZXhwb3J0IGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9ucy1hZGRcIik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFdpdGhJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGlzcGxheS1pbWFnZVwiKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2UgPSBwb3B1cFdpdGhJbWFnZS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJveF9faW1hZ2VcIik7XHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IGRlc2NJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9faW5wdXRfdHlwZV9kZXNjcmlwdGlvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xyXG5leHBvcnQgY29uc3QgY2hhbmdlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjaGFuZ2UtYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgY2hhbmdlQXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19idXR0b25zLWltYWdlLWVkaXRcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgZGVsZXRlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlbGV0ZS1tb2RhbFwiKTtcclxuZXhwb3J0IGNvbnN0IGRlbGV0ZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlbGV0ZS1uYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgZGVsZXRlTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLWxpbmtcIik7XHJcbmV4cG9ydCBjb25zdCBkZWxldGVJRCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLWlkXCIpO1xyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgLy8gSURzXHJcbiAgZWRpdE1vZGFsOiBcIiNlZGl0LXByb2ZpbGVcIixcclxuICBhZGRNb2RhbDogXCIjYWRkLWNhcmRcIixcclxuICBjaGFuZ2VBdmF0YXI6IFwiI2NoYW5nZS1hdmF0YXJcIixcclxuICAvLyBTZWxlY3RvcnNcclxuICBuYW1lOiBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gIGRlc2NyaXB0aW9uOiBcIi5wcm9maWxlX19zdWJ0aXRsZVwiLFxyXG4gIGZvcm06IFwiLmZvcm1cIixcclxuICBpbnB1dDogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b246IFwiLmZvcm1fX2J1dHRvblwiLFxyXG4gIC8vIENsYXNzZXNcclxuICBpbmFjdGl2ZUJ1dHRvbjogXCJmb3JtX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yOiBcImZvcm1fX2lucHV0X2ludmFsaWRcIixcclxuICBlcnJvcjogXCJmb3JtX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcbiIsIi8vIGNvbnNvbGUubG9nKFwiZGVidWctYnJlYWtcIik7XHJcblxyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgQVBJIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0ICogYXMgdXRpbGl0aWVzIGZyb20gXCIuLi91dGlsaXR5L3V0aWxpdHkuanNcIjtcclxuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gXCIuLi91dGlsaXR5L2NvbnN0YW50cy5qc1wiO1xyXG5jb25zdCBhcGkgPSBuZXcgQVBJKGNvbnN0YW50cy5jb25maWcpO1xyXG5sZXQgY2FyZFJlbmRlcmVyO1xyXG5hcGkuZ2V0VXNlckluZm8oKS50aGVuKChyZXN1bHQpID0+IHtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQpO1xyXG4gIGNvbnN0YW50cy5hdmF0YXIuc3JjID0gcmVzdWx0LmF2YXRhcjtcclxufSk7XHJcbmFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICBjb25zdCByZW5kZXJDYXJkID0gKGNhcmQpID0+IHtcclxuICAgIGNhcmRSZW5kZXJlci5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZCkpO1xyXG4gIH07XHJcbiAgY2FyZFJlbmRlcmVyID0gbmV3IFNlY3Rpb24oXHJcbiAgICB7IGl0ZW1zOiByZXN1bHQsIHJlbmRlcmVyOiByZW5kZXJDYXJkIH0sXHJcbiAgICBjb25zdGFudHMuY2FyZExpc3RcclxuICApO1xyXG4gIGNhcmRSZW5kZXJlci5yZW5kZXJJdGVtcygpO1xyXG4gIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcclxuICBjb25zdGFudHMucG9wdXBXaXRoSW1hZ2UsXHJcbiAgY29uc3RhbnRzLnBvcHVwSW1hZ2VcclxuKTtcclxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jb25zdCBvcGVuUG9wdXBJbWFnZSA9IChkYXRhKSA9PiB7XHJcbiAgcG9wdXBJbWFnZS5vcGVuKGRhdGEpO1xyXG59O1xyXG5jb25zdCBkZWxldGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKGNvbnN0YW50cy5kZWxldGVQb3B1cCwgKGRhdGEpID0+IHtcclxuICBhcGkuZGVsZXRlQ2FyZChkYXRhLl9pZCwgZGF0YSk7XHJcbn0pO1xyXG5kZWxldGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3Qgb3BlbkRlbGV0ZVBvcHVwID0gKGRhdGEpID0+IHtcclxuICBkZWxldGVQb3B1cC5vcGVuKCk7XHJcbiAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgY29uc3RhbnRzLmRlbGV0ZUlELnZhbHVlID0gZGF0YS5faWQ7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZW5kTGlrZShkYXRhKSB7XHJcbiAgaWYgKGRhdGEuaXNMaWtlZCkge1xyXG4gICAgYWxlcnQoYFlvdSByZW1vdmVkIHlvdXIgbGlrZSBmb3IgJHtkYXRhLm5hbWV9YCk7XHJcbiAgICBhcGkucmVtb3ZlTGlrZShkYXRhLl9pZCwgZGF0YSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFsZXJ0KGBZb3UgbGlrZWQgJHtkYXRhLm5hbWV9YCk7XHJcbiAgICBhcGkubGlrZUNhcmQoZGF0YS5faWQsIGRhdGEpO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWU6IGNvbnN0YW50cy5wcm9maWxlTmFtZSxcclxuICBhYm91dDogY29uc3RhbnRzLnByb2ZpbGVEZXNjLFxyXG59KTtcclxuY29uc3QgY2FyZE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oY29uc3RhbnRzLmNhcmRNb2RhbCwgKGRhdGEpID0+IHtcclxuICBhcGkuc2VuZENhcmQoZGF0YSk7XHJcbn0pO1xyXG5jYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGF2YXRhck1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oY29uc3RhbnRzLmNoYW5nZUF2YXRhciwgKGRhdGEpID0+IHtcclxuICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICBhcGkudXBkYXRlUHJvZmlsZVBpY3R1cmUoZGF0YSk7XHJcbn0pO1xyXG5hdmF0YXJNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gQ2FyZCBDb2RlXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmQpIHtcclxuICBjb25zdCBpbml0Q2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgY2FyZCxcclxuICAgIFwiI2NhcmRcIixcclxuICAgIG9wZW5Qb3B1cEltYWdlLFxyXG4gICAgb3BlbkRlbGV0ZVBvcHVwLFxyXG4gICAgc2VuZExpa2VcclxuICApO1xyXG4gIHJldHVybiBpbml0Q2FyZC5jcmVhdGVDYXJkKCk7XHJcbn1cclxuLy8gY29uc3QgZGVsZXRlQ2FyZCA9IGFwaS5kZWxldGVDYXJkKCk7XHJcbi8vTW9kYWwgQm94IENvZGVcclxuY29uc3QgcHJvZmlsZU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oY29uc3RhbnRzLnByb2ZpbGVNb2RhbCwgKGRhdGEpID0+IHtcclxuICBhcGkudXBkYXRlVXNlckluZm8oZGF0YSk7XHJcbn0pO1xyXG5wcm9maWxlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuY29uc3RhbnRzLmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBwcm9maWxlTW9kYWwub3BlbigpO1xyXG4gIGNvbnN0IHByb2ZpbGVJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBjb25zdGFudHMubmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZUluZm8ubmFtZTtcclxuICBjb25zdGFudHMuZGVzY0lucHV0LnZhbHVlID0gcHJvZmlsZUluZm8uYWJvdXQ7XHJcbiAgY29uc29sZS5sb2cocHJvZmlsZU1vZGFsKTtcclxuICB2YWxpZGF0ZUVkaXRNb2RhbC50b2dnbGVTdWJtaXRCdXR0b24oKTtcclxufSk7XHJcblxyXG5jb25zdCB2YWxpZGF0ZUF2YXRhck1vZGFsID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgY29uc3RhbnRzLmNvbmZpZyxcclxuICBjb25zdGFudHMuY2hhbmdlQXZhdGFyXHJcbik7XHJcbnZhbGlkYXRlQXZhdGFyTW9kYWwuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3RhbnRzLmNoYW5nZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGF2YXRhck1vZGFsLm9wZW4oKTtcclxuICB2YWxpZGF0ZUF2YXRhck1vZGFsLnRvZ2dsZVN1Ym1pdEJ1dHRvbigpO1xyXG59KTtcclxuXHJcbmNvbnN0YW50cy5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICBjYXJkTW9kYWwub3BlbigpO1xyXG4gIHZhbGlkYXRlQWRkTW9kYWwudG9nZ2xlU3VibWl0QnV0dG9uKCk7XHJcbn0pO1xyXG5jb25zdCB2YWxpZGF0ZUVkaXRNb2RhbCA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIGNvbnN0YW50cy5jb25maWcsXHJcbiAgY29uc3RhbnRzLnByb2ZpbGVNb2RhbFxyXG4pO1xyXG52YWxpZGF0ZUVkaXRNb2RhbC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGVBZGRNb2RhbCA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIGNvbnN0YW50cy5jb25maWcsXHJcbiAgY29uc3RhbnRzLmNhcmRNb2RhbFxyXG4pO1xyXG52YWxpZGF0ZUFkZE1vZGFsLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbi8vICAgY29uc29sZS5sb2coZXZ0LnRhcmdldCk7XHJcbi8vIH0pO1xyXG4iLCIvLyBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBUEkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcIiwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYjE0NDQwNy05ZDU2LTRjMzktOGVhYy03ZmEzMjQ1MmE2N2ZcIixcclxuICAgICAgfSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZWIxNDQ0MDctOWQ1Ni00YzM5LThlYWMtN2ZhMzI0NTJhNjdmXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3VibWl0VXNlckluZm8oZGF0YSkge1xyXG4gICAgZmV0Y2goXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcImViMTQ0NDA3LTlkNTYtNGMzOS04ZWFjLTdmYTMyNDUyYTY3ZlwiLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbihKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVVc2VySW5mbyhkYXRhKSB7XHJcbiAgICBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL0pTT05cIixcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcImViMTQ0NDA3LTlkNTYtNGMzOS04ZWFjLTdmYTMyNDUyYTY3ZlwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlUHJvZmlsZVBpY3R1cmUoZGF0YSkge1xyXG4gICAgZmV0Y2goXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZS9hdmF0YXJcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZWIxNDQ0MDctOWQ1Ni00YzM5LThlYWMtN2ZhMzI0NTJhNjdmXCIsXHJcbiAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9KU09OXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZW5kQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkc1wiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL0pTT05cIixcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcImViMTQ0NDA3LTlkNTYtNGMzOS04ZWFjLTdmYTMyNDUyYTY3ZlwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSUQsIGNhcmQpIHtcclxuICAgIHJldHVybiBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLyR7Y2FyZElEfWAsXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYjE0NDQwNy05ZDU2LTRjMzktOGVhYy03ZmEzMjQ1MmE2N2ZcIixcclxuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vSlNPTlwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZCksXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZChjYXJkSUQsIGNhcmQpIHtcclxuICAgIHJldHVybiBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLyR7Y2FyZElEfS9saWtlc2AsXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYjE0NDQwNy05ZDU2LTRjMzktOGVhYy03ZmEzMjQ1MmE2N2ZcIixcclxuICAgICAgICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vSlNPTlwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2FyZCksXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGNhcmRJRCwgY2FyZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMvJHtjYXJkSUR9L2xpa2VzYCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBcImViMTQ0NDA3LTlkNTYtNGMzOS04ZWFjLTdmYTMyNDUyYTY3ZlwiLFxyXG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9KU09OXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJkKSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwLCBpbWFnZSkge1xyXG4gICAgc3VwZXIoeyBwb3B1cCB9KTtcclxuICAgIHRoaXMuX2ltYWdlID0gaW1hZ2U7XHJcbiAgfVxyXG5cclxuICBvcGVuKGRhdGEpIHtcclxuICAgIGNvbnN0IG1vZGFsSW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJveF9faW1hZ2VcIik7XHJcbiAgICBjb25zdCBtb2RhbEltYWdlVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJveF9fY2FwdGlvblwiKTtcclxuICAgIGNvbnN0IGNhcmRDYXAgPSBkYXRhLm5hbWU7XHJcbiAgICBjb25zdCBjYXJkSW1nID0gZGF0YS5saW5rO1xyXG4gICAgbW9kYWxJbWFnZVRpdGxlLnRleHRDb250ZW50ID0gY2FyZENhcDtcclxuICAgIG1vZGFsSW1hZ2Uuc3JjID0gY2FyZEltZztcclxuICAgIG1vZGFsSW1hZ2UuYWx0ID0gYFByZXZpZXcgaW1hZ2UgZm9yICR7Y2FyZENhcH1gO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fYWJvdXQgPSBhYm91dDtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgICByZXR1cm4gdXNlckRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lOyAvKiAoZm9ybWVybHkgbmFtZUlucHV0LnZhbHVlKSAqL1xyXG4gICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0OyAvKiAoZm9ybWVybHkgZGVzY0lucHV0LnZhbHVlKSAqL1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiX3JlZiIsInRlbXBsYXRlIiwidmlld0ltYWdlIiwiaGFuZGxlRGVsZXRlIiwic2VuZExpa2UiLCJuYW1lIiwibGluayIsIl9pZCIsImlzTGlrZWQiLCJ0aGlzIiwiX3RlbXBsYXRlIiwiX3ZpZXdJbWFnZSIsIl9oYW5kbGVEZWxldGUiLCJfc2VuZExpa2UiLCJfdG9nZ2xlTGlrZSIsIl9jYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfcmVtb3ZlQ2FyZCIsInJlbW92ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImNhcmRMaWtlIiwiZGVsZXRlQnV0dG9uIiwiY2FyZEltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJjcmVhdGVDYXJkIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZE5hbWUiLCJjYXJkQ2FwIiwiY2FyZEltZyIsImNhcmRJRCIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwiaWQiLCJhZGQiLCJQb3B1cCIsInBvcHVwIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiZm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9mb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0c09iamVjdCIsImZvckVhY2giLCJ2YWx1ZSIsInJlc2V0IiwiX3JlbG9hZFBhZ2UiLCJsb2NhdGlvbiIsInJlbG9hZCIsInByZXZlbnREZWZhdWx0Iiwic2V0VGltZW91dCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtIiwiX2NvbmZpZyIsIl9mb3JtIiwiX2hpZGVFcnJvciIsImlucHV0IiwiZXJyb3JUZXh0IiwiZXJyb3IiLCJpbnB1dEVycm9yIiwiX3Nob3dFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX3RvZ2dsZUlucHV0RXJyb3JzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9kaXNhYmxlU3VibWl0IiwiYnV0dG9uIiwic3VibWl0QnV0dG9uIiwic2V0QXR0cmlidXRlIiwiaW5hY3RpdmVCdXR0b24iLCJfZW5hYmxlU3VibWl0IiwicmVtb3ZlQXR0cmlidXRlIiwiX2NoZWNrRm9ySW52YWxpZElucHV0Iiwic29tZSIsInRvZ2dsZVN1Ym1pdEJ1dHRvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJTZWN0aW9uIiwiY2FyZEJpbiIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZWRJdGVtcyIsIl9yZW5kZXJlciIsInJlbmRlckl0ZW1zIiwicmV2ZXJzZSIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJwcm9maWxlTW9kYWwiLCJjYXJkTW9kYWwiLCJjYXJkTW9kYWxDbG9zZSIsImNsb3Nlc3QiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjIiwiY2FyZExpc3QiLCJlZGl0QnV0dG9uIiwiYWRkQnV0dG9uIiwicG9wdXBXaXRoSW1hZ2UiLCJwb3B1cEltYWdlIiwibmFtZUlucHV0IiwiZGVzY0lucHV0IiwiYXZhdGFyIiwiY2hhbmdlQXZhdGFyIiwiY2hhbmdlQXZhdGFyQnV0dG9uIiwiZGVsZXRlUG9wdXAiLCJkZWxldGVJRCIsImVkaXRNb2RhbCIsImFkZE1vZGFsIiwiZGVzY3JpcHRpb24iLCJhcGkiLCJvcHRpb25zIiwiX29wdGlvbnMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRVc2VySW5mbyIsInN1Ym1pdFVzZXJJbmZvIiwiZGF0YSIsIm1ldGhvZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cGRhdGVVc2VySW5mbyIsImJvZHkiLCJ1cGRhdGVQcm9maWxlUGljdHVyZSIsInNlbmRDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmQiLCJsaWtlQ2FyZCIsInJlbW92ZUxpa2UiLCJjb25zdGFudHMiLCJjYXJkUmVuZGVyZXIiLCJyZXN1bHQiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwib3BlblBvcHVwSW1hZ2UiLCJvcGVuRGVsZXRlUG9wdXAiLCJpbWFnZSIsIl9pbWFnZSIsIm1vZGFsSW1hZ2UiLCJtb2RhbEltYWdlVGl0bGUiLCJhbGVydCIsImFib3V0IiwiX25hbWUiLCJfYWJvdXQiLCJhdmF0YXJNb2RhbCIsInByb2ZpbGVJbmZvIiwidmFsaWRhdGVFZGl0TW9kYWwiLCJ2YWxpZGF0ZUF2YXRhck1vZGFsIiwidmFsaWRhdGVBZGRNb2RhbCJdLCJzb3VyY2VSb290IjoiIn0=